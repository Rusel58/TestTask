# TestTask

Веб-приложение на Django для учёта разгрузки самосвалов на склад, расчёта итогового объёма руды и её качественных характеристик (процент SiO₂ и Fe) в зависимости от того, попали ли введённые пользователем координаты разгрузки в границы полигона склада.

---

## Содержание

1. [Описание проекта](#описание-проекта)  
2. [Технологический стек](#технологический-стек)  
3. [Установка и запуск](#установка-и-запуск)  
   - [Клонирование репозитория](#клонирование-репозитория)  
   - [Создание виртуального окружения](#создание-виртуального-окружения)  
   - [Установка зависимостей](#установка-зависимостей)  
   - [Настройка базы данных](#настройка-базы-данных)  
   - [Применение миграций](#применение-миграций)  
   - [Создание суперпользователя (администратора)](#создание-суперпользователя-администратора)  
   - [Запуск локального сервера](#запуск-локального-сервера)  
4. [Конфигурация и заполнение данных](#конфигурация-и-заполнение-данных)  
   - [Через Django Admin](#через-django-admin)  
   - [Пример WKT-полигона склада](#пример-wkt-полигона-склада)  
5. [Использование приложения](#использование-приложения)  
   - [Главная страница](#главная-страница)  
   - [Форма ввода координат](#форма-ввода-координат)  
   - [Расчёт итоговых показателей](#расчёт-итоговых-показателей)  
6. [Структура проекта](#структура-проекта)  
7. [Основные модели и их поля](#основные-модели-и-их-поля)  
8. [Полезные команды](#полезные-команды)  
9. [Лицензия](#лицензия)  

---

## Описание проекта

Данный проект решает задачу учёта разгрузки трёх самосвалов (с бортовыми номерами `101`, `102` и `K103`) на склад, границы которого заданы полигоном в формате WKT.  
- У самосвалов `101` и `102` модель «BELAZ» (макс. грузоподъёмность 120 т), у `K103` — «Komatsu» (макс. грузоподъёмность 110 т).  
- На момент инициализации:  
  - Самосвал `101` везёт 100 т ру­ды (32 % SiO₂, 67 % Fe),  
  - `102` — 125 т (30 % SiO₂, 65 % Fe),  
  - `K103` — 120 т (35 % SiO₂, 62 % Fe).  
- На складе изначально находится 900 т руды (34 % SiO₂, 65 % Fe).  
- Пользователь вводит для каждого самосвала координаты разгрузки в формате `X Y`. Если точка попадает внутрь (или на границу) заданного WKT-полигона склада, то этот объём и качественные характеристики груза входят в итоговый расчёт. Если нет — игнорируются.  

Веб-интерфейс позволяет:  
1. Просмотреть все самосвалы с их текущей загрузкой и процентами.  
2. Ввести координаты разгрузки в текстовые поля.  
3. Нажать кнопку **«Рассчитать»**, после чего:  
   - Происходит валидация координат (парсинг через Shapely).  
   - Проверяется, входит ли точка в полигон (методы `contains()` или `touches()` из Shapely).  
   - Суммируется объём и «чистые массы» SiO₂/Fe для тех самосвалов, у которых `is_inside = True`.  
   - Вычисляются и отображаются новые показатели склада:  
     - Итоговый объём (т),  
     - Итоговые проценты SiO₂ и Fe.  
   - Показывается таблица событий разгрузки с флагом «Попал/Не попал».  

Проект реализован на Django 5.2.2, в качестве базы данных используется SQLite, для геометрических вычислений применяется библиотека Shapely.

---

## Технологический стек

- Python 3.11  
- Django 5.2.2  
- SQLite (в файловой конфигурации `db.sqlite3`)  
- Shapely (работа с WKT и геометрией)  
- Git + GitHub (версионный контроль)  
- HTML/CSS (базовые шаблоны Django)  

---

## Установка и запуск

### Клонирование репозитория

```bash
git clone https://github.com/Rusel58/TestTask.git
cd TestTask
